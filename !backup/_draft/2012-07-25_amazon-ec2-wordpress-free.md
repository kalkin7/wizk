Date: 2012-07-25
Title: 공짜로 Amazon EC2에 워드프레스 깔고 사용하기
Slug: amazon-ec2-wordpress-free.html
Tags: blog, Amazon EC2, Wrodpress, AWS
Type: post
Excerpt: 요즘 워드프레스에 대한 관심이 높아지고 있다. 워드프레스는 설치형과 가입형이 존재하지만 그 강력함을 느끼려면 설치형이 필수적이다. 하지만 설치형은 어쩔 수 없이 비용이 들 수 밖에 없다. 공짜로 사용하는 방법은 없을까?

###1. 설치형 워드프레스 블로그 사용해보기

이 블로그의 첫 포스팅에서도 말씀 드린 것처럼 아직도 여러가지 블로그를 써보고 있는 중입니다. 여러가지 블로그 중에서 요즘 한국에서 가장 성장세를 보이고 있는 블로그는 [워드프레스](http://wordpress.com)인 것 같습니다. [서울시 홈페이지](http://www.seoul.go.kr/)나 몇몇 기업의 홈페이지를 워드프레스로 만든다는 소식으로 관심이 집중된 면도 있고, 한국의 설치형 블로그로서 독보적인 위치를 차지하고 있던 [텍스트큐브](http://www.textcube.org)가 요즘 개발이 지지부진한 것도 하나의 원인이라 할 수 있을 것 같습니다. 


사실 워드프레스나 텍스트큐브나 한국의 블로그 전체를 보면 상당히 적은 수를 차지하고 있는 것 같습니다. 포털에서 운영하고 있는 블로그들이 무료로 운영되고 있고, 그 중 티스토리나 이글루스등은 html과 css의 수정을 허용해서, 어느정도의 지식이 있으면 상당부분을 사용자에 맞게 조정해서 사용할 수 있습니다. 해외의 블로그들의 대부분이 기본적인 기능을 무료로 제공하더라도 전문적인 기능이나 용량을 추가 비용을 들여 구입해서 사용해야 하는 것과 상당히 대조적인 부분입니다.


그러다보니 한국에서는 설치형 블로그를 운영하려는 사람을 찾아보기가 많이 힘듭니다. 설치형 블로그라는 것은 어쩔 수 없이 비용이 수반될 수 밖에 없는데, 설치형 블로그를 통해서 얻을 수 있는 장점이 그 비용을 능가하기가 쉽지 않은 것이 한국의 블로그들의 현실인 것 같습니다. 블로그를 자신의 입맛에 맞게 뜯어고칠 수준이 되어서 자신에게 딱 맞게 만들 수 있는 능력자분들이나, 또는 포털의 검열을 벗어나고 싶으신 분들과 같이 특정 소수의 블로거들 만이 설치형 블로그에 들이는 비용보다 설치형 블로그를 사용하는데서 얻는 장점이 더 많으신 분들이 아닌가 싶기도 합니다. 


저는 사실 설치형 블로그를 운영하는 것에서 별 장점을 찾을 수 없는 사람중 하나입니다. 저에게 있어서 설치형 블로그의 장점으로 느껴지는 부분은 플러그인의 사용으로 제가 원하는 기능을 사용할 수 있다는 점 정도입니다. 예를 들어서 전 [Markdown](http://offree.net/entry/Markdown-Formatter)을 이용해서 글을 작성하고 싶습니다. 하지만 티스토리에서는 플러그인의 사용이 제한적이므로 불가능한 일입니다.


하지만 이런 장점들이 있어도, 공짜로 운영할 수 있는 블로그를 따로 비용을 들여가며 운영하기에는 조금 아쉬운 감이 드는 것도 사실입니다. 그래서 공짜로, 하지만 안정적으로 설치형 블로그를 운영할 수 있는 방법을 찾기 시작했습니다. 가장 편한 방법은 무료 호스팅을 찾는 것입니다. 조금만 검색해보면 무료로 호스팅을 제공하는 곳을 찾아볼 수 있습니다. 호스팅 업체에서 홍보를 위해서 무료 호스팅을 제공하는 경우도 있고, 개인적으로 서버를 운영하시는 분들께서 서버의 남는 자원을 나누기 위해서 무료 호스팅을 운영하는 경우도 있습니다. 저 역시도 그런 무료 호스팅을 이용해서 워드프레스를 처음으로 설치해보고 사용해 봤습니다.


다만 무료 호스팅의 특성상 어느날 갑자기 중단되는 경우가 생길 수 있습니다. 물론 무료 호스팅이라고 하더라도 호스팅이 종료가 되면 데이터를 백업할 수 있도록 해주는 것이 보통입니다. 하지만 무료 호스팅은 개인 도메인을 사용할 수 없게 하는 경우가 많아서 그렇게 서버를 옮길 때 블로그의 주소가 바뀔 수 있다는 것은 상당한 불안감으로 작용할 수 있습니다. 또한 무료 호스팅이기 때문에 장애를 일으켜 블로그에 접속하지 못하는 경우도 종종 볼 수 있습니다.


그래서 계속 방법을 찾아보다가, 1년동안 아마존에서 AWS를 무료로 제공한다는 것을 알게 되었습니다. 아마존 서버라면 다운될 걱정은 거의 없을 것이고, 1년동안만 무료이기는 하지만 이메일 주소와 전화번호, 신용카드만 더 있다면 또 가입해서 1년을 더 무료로 사용할 수도 있을 것이라는 생각이 들어서 아마존 서버를 이용해 보기로 결정했습니다.



###2. 아마존 EC2 소개

Amazon EC2는 일종의 클라우드 서버입니다. 간단하게 말하면 PC에서 [Vmware](http://www.vmware.com/)나 [VirtualBox](http://www.virtualbox.org/)등을 이용해서 다른 OS를 깔고 사용하는 것과 비슷한 것인데, 그것을 서버로 제공하는 것이라고 보면 됩니다.


그런데 아마존에서 1년동안 신규 가입자에게 무료로 [Amazon EC2](http://aws.amazon.com/ko/ec2/)의 Micro instance를 쓸 수 있도록 제공하고 있습니다. Micro instance의 사양은 cpu의 경우는 아마존 자체 기준이라서 실제 cpu와 비교했을 때 어느 정도의 성능인지는 알 수 없습니다. RAM은 613 MB가 주어집니다. 그리고 무료 사용자에게는 한달 동안 15GB의 트래픽과 30GB의 저장 공간이 주어집니다. 아마존의 S3 서비스 역시 무료로 5GB를 사용할 수가 있는데, 이 때 트래픽은 EC2와 공유된다는 사실에 유의해야 합니다. 이 때 무료 사용량을 넘어서게 되면 아마존 AWS 가입 시 등록한 신용카드로 과금됩니다.


저처럼 처음 블로그를 시작하는 분들이나, 방문객이 그리 많지 않은 분들께서는 한 달에 15GB정도의 트래픽이면 문제 없이 블로그를 운영하실 수 있을 겁니다. 산술적으로 하루에 500MB의 트래픽을 사용할 수 있다고 보면 되는데, 대부분의 웹호스팅 업체처럼 하루당 트래픽이 아니라, 월당 트래픽이라서 오늘 트래픽을 적게 쓰면 남은 트래픽을 내일 또 쓸 수 있는 형태이므로 생각보다 모자르지는 않을 것입니다.


또한 보통 블로그를 방문하시는 분들께서는 검색으로 블로그에 방문하셔서 검색된 글만 읽어보고 나가시는 경우가 많아서 방문객 한 분당 평균적으로 1~2페이지 정도만 읽고 가시는 것이 보통입니다. 사실 설치형 블로그를 운영할 때 가장 많은 트래픽을 소모하는 것은 사진과 같은 멀티미디어 자료 입니다. 그래서 설치형 블로그를 쓰시는 분들 중에서는 트래픽 절약을 위해서 사진과 같은 그림 파일은 피카사나 플리커에 올리고 그 링크를 이용해서 블로그의 글에 삽입하시는 분들이 많습니다. 이 블로그에도 사진을 삽입할 경우 피카사나 플리커를 이용할 예정이기 때문에 사진 파일에 대한 트래픽은 제외하고 생각해도 될 듯 합니다. 그리고 나중에 제가 포스팅할 글에 나온대로 서버 세팅을 하시면 데이터를 압축 전송하게 될테니 보통 한 페이지당 30kb미만의 트래픽이 소모됩니다. 글이 많아지게되면 검색 로봇에 의한 수집에 의해서 많은 트래픽이 소모되기도 하지만, 저처럼 처음 블로그를 시작하시는 분들은 블로그에 글이 많지 않을 것이므로 그런 걱정도 없습니다. 따라서 하루에 500MB의 트래픽을 쓸 수 있다고 가정하고 계산하면 하루에 8000명 이상의 방문객을 수용할 수 있는 정도입니다. 보통의 블로그에 그 정도의 방문객이 오는 경우는 드물기 때문에 EC2의 그리 많지 않아보이는 트래픽으로도 블로그를 운영하는 데는 별 문제가 없을 것입니다.


또한 가끔 블로그의 글이 다음 블로그 뉴스 메인에 올라간다거나 하는 경우 방문객의 폭주로 트래픽의 문제가 아니라 블로그가 운영되는 서버가 다운되는 경우가 발생하기도 합니다. 그런 경우 유료 호스팅을 이용중이더라도 다른 이용자들의 불편을 줄 수 있다는 이유로 그 호스팅을 더 이상 쓰지 못하는 경우가 생기기도 합니다. 하지만 EC2의 경우 아마존에서 운영하는 클라우드 서버라서 그럴 염려가 거의 없습니다. 다만 EC2의 경우 직접 OS를 깔고 서버의 세팅을 해줘야 하는데, 그 세팅이 최적화되어 있어야 많은 방문객에도 문제 없이 블로그의 운영이 가능해집니다. 현재 제 EC2 서버는 우분투 서버가 깔려 있고, 거기에 nginx라는 웹서버와 php, mysql, varnish정도가 깔려 있습니다. 인터넷을 돌아다니다가 얻은 [정보](http://www.ewanleith.com/blog/900/10-million-hits-a-day-with-wordpress-using-a-15-server)를 통해 서버에 대해서 전혀 모르는 제가 어렵게나마 서버 세팅을 끝내고 워드프레스를 깔 수 있었습니다. 현재 블로그는 1초당 100히트 정도까지 가능한 성능입니다. 따라서 방문객이 폭주하는 상황이라도 큰 무리 없이 운영 가능할 것으로 생각합니다. 물론 세팅은 이렇게 해 놓았지만 방문객이 그리 많은 올 것 같지 않다는 것이 아이러니죠. ^^;;;


서론이 길었는데, 우선 어렵사리 공짜로 설치형 워드프레스를 운영할 수 있게 되었으니 잘 사용하면서 노하우를 익혀갈 생각입니다. 또한 추후에 제가 서버를 세팅한 방법을 발번역일지라도 간단하게 번역해서 올릴 계획입니다. 공짜로 워드프레스를 설치해서 사용해보고 싶으신 분들께서는 다음 포스팅을 기대해주세요. ^^;